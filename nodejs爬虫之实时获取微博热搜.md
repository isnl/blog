### 关于写代码

之前一直将`写代码`称呼为`敲代码`、后来发现`敲`这个字，不太适合形容这件事情，用`敲`字来形容，像是一个没有感情的机器，无关创作，无关思想，只是为了完成工作、做好某个功能而已。

于我自己而言，其实是很热衷于并且享受这件事情。因此，后来我将称呼换成了`写代码`。用`写`来形容，更像是在创作，打磨一件优秀的作品一样。改自 `掘金站长` 的一句话：

> 子非猿，安之写代码之乐也。

### 夏天

> 我知道，那些夏天，就像青春一样回不来。 - 宋冬野

青春是回不来了，倒是要考虑怎么渡过在西安的第三个夏天了。

### 何故

最近访问 [艾特网](https://iiter.cn) 的时候发现请求有点慢。

后来经过一番检查，发现问题出在首页中搜索热点需要每次去爬取百度热搜的数据并当做接口返回给前端，容易出现访问较慢的情况。

然后就想着对这个接口进行一次重构。

### 解决方案

思路如下：

- 设置定时任务，每隔`1分钟/3分钟/5分钟`爬取新浪微博实时热搜(新浪微博热搜点击率更高一些)
- 爬取到数据后不直接返回给前端，先写入一个`.json`格式的文件。
- 后台接口直接返回给前端当前`json`文件的内容

思路想明白以后就可以开始着手写代码了。

### 创建工程

首先得找到目标站点，如下：(微博实时热搜)

[https://s.weibo.com/top/summary?cate=realtimehot](https://s.weibo.com/top/summary?cate=realtimehot)

便于理解，这边代码就不依赖于`eggjs`了，我们写原生`nodejs`代码。

先初始化一个`nodejs`工程

```bash
npm init -y
```

创建`app.js`文件

安装以下依赖

```bash
npm i cherrio superagent -D
```

关于`superagent`和`cherrio`

> superagent 轻量级 nodejs 请求库

> cherrio nodejs 版的 jQuery
